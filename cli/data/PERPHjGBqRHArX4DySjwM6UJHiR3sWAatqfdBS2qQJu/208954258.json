{
  "accounts": [
    {
      "name": "Custody",
      "type": {
        "fields": [
          {
            "name": "pool",
            "type": "publicKey"
          },
          {
            "name": "mint",
            "type": "publicKey"
          },
          {
            "name": "tokenAccount",
            "type": "publicKey"
          },
          {
            "name": "decimals",
            "type": "u8"
          },
          {
            "name": "isStable",
            "type": "bool"
          },
          {
            "name": "oracle",
            "type": {
              "defined": "OracleParams"
            }
          },
          {
            "name": "pricing",
            "type": {
              "defined": "PricingParams"
            }
          },
          {
            "name": "permissions",
            "type": {
              "defined": "Permissions"
            }
          },
          {
            "name": "targetRatioBps",
            "type": "u64"
          },
          {
            "name": "assets",
            "type": {
              "defined": "Assets"
            }
          },
          {
            "name": "fundingRateState",
            "type": {
              "defined": "FundingRateState"
            }
          },
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "tokenAccountBump",
            "type": "u8"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "TestOracle",
      "type": {
        "fields": [
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "expo",
            "type": "i32"
          },
          {
            "name": "conf",
            "type": "u64"
          },
          {
            "name": "publishTime",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Perpetuals",
      "type": {
        "fields": [
          {
            "name": "permissions",
            "type": {
              "defined": "Permissions"
            }
          },
          {
            "name": "pools",
            "type": {
              "vec": "publicKey"
            }
          },
          {
            "name": "admin",
            "type": "publicKey"
          },
          {
            "name": "transferAuthorityBump",
            "type": "u8"
          },
          {
            "name": "perpetualsBump",
            "type": "u8"
          },
          {
            "name": "inceptionTime",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Pool",
      "type": {
        "fields": [
          {
            "name": "name",
            "type": "string"
          },
          {
            "name": "custodies",
            "type": {
              "vec": "publicKey"
            }
          },
          {
            "name": "aumUsd",
            "type": "u128"
          },
          {
            "name": "limit",
            "type": {
              "defined": "Limit"
            }
          },
          {
            "name": "fees",
            "type": {
              "defined": "Fees"
            }
          },
          {
            "name": "poolApr",
            "type": {
              "defined": "PoolApr"
            }
          },
          {
            "name": "maxRequestExecutionSec",
            "type": "i64"
          },
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "lpTokenBump",
            "type": "u8"
          },
          {
            "name": "inceptionTime",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PositionRequest",
      "type": {
        "fields": [
          {
            "name": "owner",
            "type": "publicKey"
          },
          {
            "name": "pool",
            "type": "publicKey"
          },
          {
            "name": "custody",
            "type": "publicKey"
          },
          {
            "name": "position",
            "type": "publicKey"
          },
          {
            "name": "mint",
            "type": "publicKey"
          },
          {
            "name": "openTime",
            "type": "i64"
          },
          {
            "name": "updateTime",
            "type": "i64"
          },
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "collateralDelta",
            "type": "u64"
          },
          {
            "name": "requestChange",
            "type": {
              "defined": "RequestChange"
            }
          },
          {
            "name": "requestType",
            "type": {
              "defined": "RequestType"
            }
          },
          {
            "name": "side",
            "type": {
              "defined": "Side"
            }
          },
          {
            "name": "priceSlippage",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "jupiterMinimumOut",
            "type": {
              "option": {
                "defined": "TokenAmount"
              }
            }
          },
          {
            "name": "preSwapAmount",
            "type": {
              "option": {
                "defined": "TokenAmount"
              }
            }
          },
          {
            "name": "triggerPrice",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "triggerAboveThreshold",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "entirePosition",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "executed",
            "type": "bool"
          },
          {
            "name": "counter",
            "type": "u64"
          },
          {
            "name": "bump",
            "type": "u8"
          },
          {
            "name": "referral",
            "type": {
              "option": "publicKey"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Position",
      "type": {
        "fields": [
          {
            "name": "owner",
            "type": "publicKey"
          },
          {
            "name": "pool",
            "type": "publicKey"
          },
          {
            "name": "custody",
            "type": "publicKey"
          },
          {
            "name": "collateralCustody",
            "type": "publicKey"
          },
          {
            "name": "openTime",
            "type": "i64"
          },
          {
            "name": "updateTime",
            "type": "i64"
          },
          {
            "name": "side",
            "type": {
              "defined": "Side"
            }
          },
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "sizeUsd",
            "type": "u64"
          },
          {
            "name": "collateralUsd",
            "type": "u64"
          },
          {
            "name": "realisedPnlUsd",
            "type": "i64"
          },
          {
            "name": "cumulativeInterestSnapshot",
            "type": "u128"
          },
          {
            "name": "lockedAmount",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "bump",
            "type": "u8"
          }
        ],
        "kind": "struct"
      }
    }
  ],
  "errors": [
    {
      "code": 6000,
      "msg": "Overflow in arithmetic operation",
      "name": "MathOverflow"
    },
    {
      "code": 6001,
      "msg": "Unsupported price oracle",
      "name": "UnsupportedOracle"
    },
    {
      "code": 6002,
      "msg": "Invalid oracle account",
      "name": "InvalidOracleAccount"
    },
    {
      "code": 6003,
      "msg": "Stale oracle price",
      "name": "StaleOraclePrice"
    },
    {
      "code": 6004,
      "msg": "Invalid oracle price",
      "name": "InvalidOraclePrice"
    },
    {
      "code": 6005,
      "msg": "Instruction is not allowed in production",
      "name": "InvalidEnvironment"
    },
    {
      "code": 6006,
      "msg": "Invalid collateral account",
      "name": "InvalidCollateralAccount"
    },
    {
      "code": 6007,
      "msg": "Invalid collateral amount",
      "name": "InvalidCollateralAmount"
    },
    {
      "code": 6008,
      "msg": "Collateral slippage",
      "name": "CollateralSlippage"
    },
    {
      "code": 6009,
      "msg": "Invalid position state",
      "name": "InvalidPositionState"
    },
    {
      "code": 6010,
      "msg": "Invalid perpetuals config",
      "name": "InvalidPerpetualsConfig"
    },
    {
      "code": 6011,
      "msg": "Invalid pool config",
      "name": "InvalidPoolConfig"
    },
    {
      "code": 6012,
      "msg": "Invalid instruction",
      "name": "InvalidInstruction"
    },
    {
      "code": 6013,
      "msg": "Invalid custody config",
      "name": "InvalidCustodyConfig"
    },
    {
      "code": 6014,
      "msg": "Invalid custody balance",
      "name": "InvalidCustodyBalance"
    },
    {
      "code": 6015,
      "msg": "Invalid argument",
      "name": "InvalidArgument"
    },
    {
      "code": 6016,
      "msg": "Invalid position request",
      "name": "InvalidPositionRequest"
    },
    {
      "code": 6017,
      "msg": "Invalid position request input ata",
      "name": "InvalidPositionRequestInputAta"
    },
    {
      "code": 6018,
      "msg": "Invalid mint",
      "name": "InvalidMint"
    },
    {
      "code": 6019,
      "msg": "Insufficient token amount",
      "name": "InsufficientTokenAmount"
    },
    {
      "code": 6020,
      "msg": "Insufficient token amount returned",
      "name": "InsufficientAmountReturned"
    },
    {
      "code": 6021,
      "msg": "Price slippage limit exceeded",
      "name": "MaxPriceSlippage"
    },
    {
      "code": 6022,
      "msg": "Position leverage limit exceeded",
      "name": "MaxLeverage"
    },
    {
      "code": 6023,
      "msg": "Custody amount limit exceeded",
      "name": "CustodyAmountLimit"
    },
    {
      "code": 6024,
      "msg": "Pool amount limit exceeded",
      "name": "PoolAmountLimit"
    },
    {
      "code": 6025,
      "msg": "Personal pool amount limit exceeded",
      "name": "PersonalPoolAmountLimit"
    },
    {
      "code": 6026,
      "msg": "Token is not supported",
      "name": "UnsupportedToken"
    },
    {
      "code": 6027,
      "msg": "Instruction is not allowed at this time",
      "name": "InstructionNotAllowed"
    },
    {
      "code": 6028,
      "msg": "Jupiter Program ID mismatch",
      "name": "JupiterProgramMismatch"
    },
    {
      "code": 6029,
      "msg": "Program ID mismatch",
      "name": "ProgramMismatch"
    },
    {
      "code": 6030,
      "msg": "Address mismatch",
      "name": "AddressMismatch"
    },
    {
      "code": 6031,
      "msg": "Missing keeper ATA",
      "name": "KeeperATAMissing"
    },
    {
      "code": 6032,
      "msg": "Swap amount mismatch",
      "name": "SwapAmountMismatch"
    },
    {
      "code": 6033,
      "msg": "CPI not allowed",
      "name": "CPINotAllowed"
    },
    {
      "code": 6034,
      "msg": "Invalid Keeper",
      "name": "InvalidKeeper"
    },
    {
      "code": 6035,
      "msg": "Exceed execution period",
      "name": "ExceedExecutionPeriod"
    },
    {
      "code": 6036,
      "msg": "Invalid Request Type",
      "name": "InvalidRequestType"
    },
    {
      "code": 6037,
      "msg": "Invalid Trigger Price",
      "name": "InvalidTriggerPrice"
    },
    {
      "code": 6038,
      "msg": "Trigger Price Slippage",
      "name": "TriggerPriceSlippage"
    },
    {
      "code": 6039,
      "msg": "Missing Trigger Price",
      "name": "MissingTriggerPrice"
    },
    {
      "code": 6040,
      "msg": "Missing Price Slippage",
      "name": "MissingPriceSlippage"
    },
    {
      "code": 6041,
      "msg": "Invalid price calc mode",
      "name": "InvalidPriceCalcMode"
    }
  ],
  "events": [
    {
      "fields": [
        {
          "index": false,
          "name": "owner",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "pool",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSide",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "sizeUsdDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "collateralDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "priceSlippage",
          "type": {
            "option": "u64"
          }
        },
        {
          "index": false,
          "name": "jupiterMinimumOut",
          "type": {
            "option": {
              "defined": "TokenAmount"
            }
          }
        },
        {
          "index": false,
          "name": "preSwapAmount",
          "type": {
            "option": {
              "defined": "TokenAmount"
            }
          }
        },
        {
          "index": false,
          "name": "requestChange",
          "type": "u8"
        },
        {
          "index": false,
          "name": "openTime",
          "type": "i64"
        },
        {
          "index": false,
          "name": "referral",
          "type": {
            "option": "publicKey"
          }
        }
      ],
      "name": "CreatePositionRequestEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "owner",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "mint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "amount",
          "type": {
            "defined": "TokenAmount"
          }
        }
      ],
      "name": "ClosePositionRequestEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSide",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSizeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "positionMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestChange",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionRequestType",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionRequestCollateralDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "owner",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "pool",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "sizeUsdDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "collateralUsdDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "collateralTokenDelta",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "price",
          "type": "u64"
        },
        {
          "index": false,
          "name": "priceSlippage",
          "type": {
            "option": "u64"
          }
        },
        {
          "index": false,
          "name": "feeToken",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "feeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "openTime",
          "type": "i64"
        },
        {
          "index": false,
          "name": "referral",
          "type": {
            "option": "publicKey"
          }
        }
      ],
      "name": "IncreasePositionEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "transferAmount",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "collateralCustodyPreSwapAmount",
          "type": {
            "defined": "TokenAmount"
          }
        }
      ],
      "name": "IncreasePositionPreSwapEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSide",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSizeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "positionMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionRequestChange",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionRequestType",
          "type": "u8"
        },
        {
          "index": false,
          "name": "hasProfit",
          "type": "bool"
        },
        {
          "index": false,
          "name": "pnlDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "owner",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "pool",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "sizeUsdDelta",
          "type": "u64"
        },
        {
          "index": false,
          "name": "transferAmountUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "transferToken",
          "type": {
            "option": {
              "defined": "TokenAmount"
            }
          }
        },
        {
          "index": false,
          "name": "price",
          "type": "u64"
        },
        {
          "index": false,
          "name": "priceSlippage",
          "type": {
            "option": "u64"
          }
        },
        {
          "index": false,
          "name": "feeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "openTime",
          "type": "i64"
        },
        {
          "index": false,
          "name": "referral",
          "type": {
            "option": "publicKey"
          }
        }
      ],
      "name": "DecreasePositionEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionRequestKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "swapAmount",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "jupiterMinimumOut",
          "type": {
            "option": {
              "defined": "TokenAmount"
            }
          }
        }
      ],
      "name": "DecreasePositionPostSwapEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "positionKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSide",
          "type": "u8"
        },
        {
          "index": false,
          "name": "positionCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralCustody",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionCollateralMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionMint",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "positionSizeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "owner",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "pool",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "transferAmountUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "transferToken",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "price",
          "type": "u64"
        },
        {
          "index": false,
          "name": "feeUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "openTime",
          "type": "i64"
        }
      ],
      "name": "LiquidatePositionEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "receivingCustodyKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "dispensingCustodyKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "poolKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "amountIn",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "amountOut",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "amountOutAfterFees",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "feeBps",
          "type": "u64"
        },
        {
          "index": false,
          "name": "ownerKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "receivingAccountKey",
          "type": "publicKey"
        }
      ],
      "name": "SwapEvent"
    },
    {
      "fields": [
        {
          "index": false,
          "name": "custodyKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "poolKey",
          "type": "publicKey"
        },
        {
          "index": false,
          "name": "tokenAmountIn",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "prePoolAmountUsd",
          "type": "u128"
        },
        {
          "index": false,
          "name": "tokenAmountUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "feeBps",
          "type": "u64"
        },
        {
          "index": false,
          "name": "tokenAmountAfterFee",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "mintAmountUsd",
          "type": "u64"
        },
        {
          "index": false,
          "name": "lpAmount",
          "type": {
            "defined": "TokenAmount"
          }
        },
        {
          "index": false,
          "name": "postPoolAmountUsd",
          "type": "u128"
        }
      ],
      "name": "AddLiquidityEvent"
    }
  ],
  "instructions": [
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "upgradeAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "admin"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetualsProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetualsProgramData"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "InitParams"
          }
        }
      ],
      "name": "init"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "lpTokenMint"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "AddPoolParams"
          }
        }
      ],
      "name": "addPool",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyTokenMint"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "rent"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "AddCustodyParams"
          }
        }
      ],
      "name": "addCustody",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SetCustodyConfigParams"
          }
        }
      ],
      "name": "setCustodyConfig",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SetPoolConfigParams"
          }
        }
      ],
      "name": "setPoolConfig",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "perpetuals"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SetPermissionsParams"
          }
        }
      ],
      "name": "setPermissions",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "WithdrawFeesParams"
          }
        }
      ],
      "name": "withdrawFees"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "upgradeAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "admin"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "TestInitParams"
          }
        }
      ],
      "name": "testInit"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "oracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SetTestOraclePriceParams"
          }
        }
      ],
      "name": "setTestOraclePrice",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "admin"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "perpetuals"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SetTestTimeParams"
          }
        }
      ],
      "name": "setTestTime",
      "returns": "u8"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "fundingAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "receivingCustodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingCustodyTokenAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "dispensingCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "dispensingCustodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "dispensingCustodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "SwapParams"
          }
        }
      ],
      "name": "swap"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "fundingAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "lpTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custodyTokenAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "lpTokenMint"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "AddLiquidityParams"
          }
        }
      ],
      "name": "addLiquidity"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "lpTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custodyTokenAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "lpTokenMint"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "RemoveLiquidityParams"
          }
        }
      ],
      "name": "removeLiquidity"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "fundingAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "inputMint"
        },
        {
          "isMut": false,
          "isOptional": true,
          "isSigner": false,
          "name": "referral"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "associatedTokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "CreateIncreasePositionRequestParams"
          }
        }
      ],
      "name": "createIncreasePositionRequest"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "UpdateIncreasePositionRequestParams"
          }
        }
      ],
      "name": "updateIncreasePositionRequest"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "desiredMint"
        },
        {
          "isMut": false,
          "isOptional": true,
          "isSigner": false,
          "name": "referral"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "associatedTokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "systemProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "CreateDecreasePositionRequestParams"
          }
        }
      ],
      "name": "createDecreasePositionRequest"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "owner"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "UpdateDecreasePositionRequestParams"
          }
        }
      ],
      "name": "updateDecreasePositionRequest"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isOptional": true,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "owner"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "ownerAta"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "ClosePositionRequestParams"
          }
        }
      ],
      "name": "closePositionRequest"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "IncreasePositionParams"
          }
        }
      ],
      "name": "increasePosition"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "keeperAta"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "instruction"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "IncreasePositionPreSwapParams"
          }
        }
      ],
      "name": "increasePositionPreSwap"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": true,
          "isOptional": true,
          "isSigner": false,
          "name": "keeperAta"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "owner"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "instruction"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "DecreasePositionParams"
          }
        }
      ],
      "name": "decreasePosition"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": true,
          "name": "keeper"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "positionRequest"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "positionRequestAta"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "DecreasePositionPostSwapParams"
          }
        }
      ],
      "name": "decreasePositionPostSwap"
    },
    {
      "accounts": [
        {
          "isMut": true,
          "isSigner": true,
          "name": "signer"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "receivingAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "rewardReceivingAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "transferAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyOracleAccount"
        },
        {
          "isMut": true,
          "isSigner": false,
          "name": "collateralCustodyTokenAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "tokenProgram"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "eventAuthority"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "program"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "LiquidatePositionParams"
          }
        }
      ],
      "name": "liquidatePosition"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "lpTokenMint"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetAddLiquidityAmountAndFeeParams"
          }
        }
      ],
      "name": "getAddLiquidityAmountAndFee",
      "returns": {
        "defined": "AmountAndFee"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "lpTokenMint"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetRemoveLiquidityAmountAndFeeParams"
          }
        }
      ],
      "name": "getRemoveLiquidityAmountAndFee",
      "returns": {
        "defined": "AmountAndFee"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isOptional": true,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyOracleAccount"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetIncreasePositionParams"
          }
        }
      ],
      "name": "getIncreasePosition",
      "returns": {
        "defined": "IncreasePositionInfo"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustodyOracleAccount"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetDecreasePositionParams"
          }
        }
      ],
      "name": "getDecreasePosition",
      "returns": {
        "defined": "DecreasePositionInfo"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetPnlAndFeeParams"
          }
        }
      ],
      "name": "getPnl",
      "returns": {
        "defined": "PnlAndFee"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "position"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "collateralCustody"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetLiquidationStateParams"
          }
        }
      ],
      "name": "getLiquidationState",
      "returns": "bool"
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "custodyOracleAccount"
        }
      ],
      "args": [],
      "name": "getOraclePrice",
      "returns": {
        "defined": "OraclePriceInfo"
      }
    },
    {
      "accounts": [
        {
          "isMut": false,
          "isSigner": false,
          "name": "perpetuals"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "pool"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "receivingCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "receivingCustodyOracleAccount"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "dispensingCustody"
        },
        {
          "isMut": false,
          "isSigner": false,
          "name": "dispensingCustodyOracleAccount"
        }
      ],
      "args": [
        {
          "name": "params",
          "type": {
            "defined": "GetSwapAmountAndFeesParams"
          }
        }
      ],
      "name": "getSwapAmountAndFees",
      "returns": {
        "defined": "SwapAmountAndFees"
      }
    }
  ],
  "name": "perpetuals",
  "types": [
    {
      "name": "AddCustodyParams",
      "type": {
        "fields": [
          {
            "name": "isStable",
            "type": "bool"
          },
          {
            "name": "oracle",
            "type": {
              "defined": "OracleParams"
            }
          },
          {
            "name": "pricing",
            "type": {
              "defined": "PricingParams"
            }
          },
          {
            "name": "permissions",
            "type": {
              "defined": "Permissions"
            }
          },
          {
            "name": "hourlyFundingBps",
            "type": "u64"
          },
          {
            "name": "targetRatioBps",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "AddLiquidityParams",
      "type": {
        "fields": [
          {
            "name": "tokenAmountIn",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "minLpAmountOut",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "tokenAmountPreSwap",
            "type": {
              "option": {
                "defined": "TokenAmount"
              }
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "AddPoolParams",
      "type": {
        "fields": [
          {
            "name": "name",
            "type": "string"
          },
          {
            "name": "limit",
            "type": {
              "defined": "Limit"
            }
          },
          {
            "name": "fees",
            "type": {
              "defined": "Fees"
            }
          },
          {
            "name": "maxRequestExecutionSec",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "ClosePositionRequestParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "CreateDecreasePositionRequestParams",
      "type": {
        "fields": [
          {
            "name": "collateralUsdDelta",
            "type": "u64"
          },
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "requestType",
            "type": {
              "defined": "RequestType"
            }
          },
          {
            "name": "priceSlippage",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "jupiterMinimumOut",
            "type": {
              "option": {
                "defined": "TokenAmount"
              }
            }
          },
          {
            "name": "triggerPrice",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "triggerAboveThreshold",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "entirePosition",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "counter",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "CreateIncreasePositionRequestParams",
      "type": {
        "fields": [
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "collateralTokenDelta",
            "type": "u64"
          },
          {
            "name": "side",
            "type": {
              "defined": "Side"
            }
          },
          {
            "name": "requestType",
            "type": {
              "defined": "RequestType"
            }
          },
          {
            "name": "priceSlippage",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "jupiterMinimumOut",
            "type": {
              "option": {
                "defined": "TokenAmount"
              }
            }
          },
          {
            "name": "triggerPrice",
            "type": {
              "option": "u64"
            }
          },
          {
            "name": "triggerAboveThreshold",
            "type": {
              "option": "bool"
            }
          },
          {
            "name": "counter",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "DecreasePositionPostSwapParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "DecreasePositionParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "GetAddLiquidityAmountAndFeeParams",
      "type": {
        "fields": [
          {
            "name": "tokenAmountIn",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "GetDecreasePositionParams",
      "type": {
        "fields": [
          {
            "name": "collateralUsdDelta",
            "type": "u64"
          },
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "GetIncreasePositionParams",
      "type": {
        "fields": [
          {
            "name": "collateralTokenDelta",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "side",
            "type": {
              "defined": "Side"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "GetLiquidationStateParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "GetPnlAndFeeParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "GetRemoveLiquidityAmountAndFeeParams",
      "type": {
        "fields": [
          {
            "name": "lpAmountIn",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "GetSwapAmountAndFeesParams",
      "type": {
        "fields": [
          {
            "name": "amountIn",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "IncreasePositionPreSwapParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "IncreasePositionParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "InitParams",
      "type": {
        "fields": [
          {
            "name": "allowSwap",
            "type": "bool"
          },
          {
            "name": "allowAddLiquidity",
            "type": "bool"
          },
          {
            "name": "allowRemoveLiquidity",
            "type": "bool"
          },
          {
            "name": "allowIncreasePosition",
            "type": "bool"
          },
          {
            "name": "allowDecreasePosition",
            "type": "bool"
          },
          {
            "name": "allowCollateralWithdrawal",
            "type": "bool"
          },
          {
            "name": "allowLiquidatePosition",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "LiquidatePositionParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "RemoveLiquidityParams",
      "type": {
        "fields": [
          {
            "name": "lpAmountIn",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "minAmountOut",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SetCustodyConfigParams",
      "type": {
        "fields": [
          {
            "name": "isStable",
            "type": "bool"
          },
          {
            "name": "oracle",
            "type": {
              "defined": "OracleParams"
            }
          },
          {
            "name": "pricing",
            "type": {
              "defined": "PricingParams"
            }
          },
          {
            "name": "permissions",
            "type": {
              "defined": "Permissions"
            }
          },
          {
            "name": "hourlyFundingBps",
            "type": "u64"
          },
          {
            "name": "targetRatioBps",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SetPermissionsParams",
      "type": {
        "fields": [
          {
            "name": "allowSwap",
            "type": "bool"
          },
          {
            "name": "allowAddLiquidity",
            "type": "bool"
          },
          {
            "name": "allowRemoveLiquidity",
            "type": "bool"
          },
          {
            "name": "allowIncreasePosition",
            "type": "bool"
          },
          {
            "name": "allowDecreasePosition",
            "type": "bool"
          },
          {
            "name": "allowCollateralWithdrawal",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SetPoolConfigParams",
      "type": {
        "fields": [
          {
            "name": "fees",
            "type": {
              "defined": "Fees"
            }
          },
          {
            "name": "limit",
            "type": {
              "defined": "Limit"
            }
          },
          {
            "name": "maxRequestExecutionSec",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SetTestOraclePriceParams",
      "type": {
        "fields": [
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "expo",
            "type": "i32"
          },
          {
            "name": "conf",
            "type": "u64"
          },
          {
            "name": "publishTime",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SetTestTimeParams",
      "type": {
        "fields": [
          {
            "name": "time",
            "type": "i64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SwapParams",
      "type": {
        "fields": [
          {
            "name": "amountIn",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "minAmountOut",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "TestInitParams",
      "type": {
        "fields": [
          {
            "name": "allowSwap",
            "type": "bool"
          },
          {
            "name": "allowAddLiquidity",
            "type": "bool"
          },
          {
            "name": "allowRemoveLiquidity",
            "type": "bool"
          },
          {
            "name": "allowIncreasePosition",
            "type": "bool"
          },
          {
            "name": "allowDecreasePosition",
            "type": "bool"
          },
          {
            "name": "allowCollateralWithdrawal",
            "type": "bool"
          },
          {
            "name": "allowLiquidatePosition",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "UpdateDecreasePositionRequestParams",
      "type": {
        "fields": [
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "triggerPrice",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "UpdateIncreasePositionRequestParams",
      "type": {
        "fields": [
          {
            "name": "sizeUsdDelta",
            "type": "u64"
          },
          {
            "name": "triggerPrice",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "WithdrawFeesParams",
      "type": {
        "fields": [],
        "kind": "struct"
      }
    },
    {
      "name": "Assets",
      "type": {
        "fields": [
          {
            "name": "feesReserves",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "owned",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "locked",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "guaranteedUsd",
            "type": "u64"
          },
          {
            "name": "globalShortSizes",
            "type": "u64"
          },
          {
            "name": "globalShortAveragePrices",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PricingParams",
      "type": {
        "fields": [
          {
            "name": "tradeSpreadLong",
            "type": "u64"
          },
          {
            "name": "tradeSpreadShort",
            "type": "u64"
          },
          {
            "name": "swapSpread",
            "type": "u64"
          },
          {
            "name": "maxLeverage",
            "type": "u64"
          },
          {
            "name": "maxGlobalLongSizes",
            "type": "u64"
          },
          {
            "name": "maxGlobalShortSizes",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "FundingRateState",
      "type": {
        "fields": [
          {
            "name": "cumulativeInterestRate",
            "type": "u128"
          },
          {
            "name": "lastUpdate",
            "type": "i64"
          },
          {
            "name": "hourlyFundingBps",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "OraclePrice",
      "type": {
        "fields": [
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "exponent",
            "type": "i32"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "OracleParams",
      "type": {
        "fields": [
          {
            "name": "oracleAccount",
            "type": "publicKey"
          },
          {
            "name": "oracleType",
            "type": {
              "defined": "OracleType"
            }
          },
          {
            "name": "maxPriceError",
            "type": "u64"
          },
          {
            "name": "maxPriceAgeSec",
            "type": "u32"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "AmountAndFee",
      "type": {
        "fields": [
          {
            "name": "amount",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "fee",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "feeBps",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "IncreasePositionInfo",
      "type": {
        "fields": [
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "liquidationPrice",
            "type": "u64"
          },
          {
            "name": "feeUsd",
            "type": "u64"
          },
          {
            "name": "collateralUsd",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "DecreasePositionInfo",
      "type": {
        "fields": [
          {
            "name": "price",
            "type": "u64"
          },
          {
            "name": "liquidationPrice",
            "type": "u64"
          },
          {
            "name": "feeUsd",
            "type": "u64"
          },
          {
            "name": "collateralUsd",
            "type": "u64"
          },
          {
            "name": "hasProfit",
            "type": "bool"
          },
          {
            "name": "pnlDelta",
            "type": "u64"
          },
          {
            "name": "transferAmountUsd",
            "type": "u64"
          },
          {
            "name": "transferToken",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "SwapAmountAndFees",
      "type": {
        "fields": [
          {
            "name": "amountIn",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "amountOut",
            "type": {
              "defined": "TokenAmount"
            }
          },
          {
            "name": "feeBps",
            "type": "u64"
          },
          {
            "name": "feeToken",
            "type": {
              "defined": "TokenAmount"
            }
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PnlAndFee",
      "type": {
        "fields": [
          {
            "name": "hasProfit",
            "type": "bool"
          },
          {
            "name": "pnlDelta",
            "type": "u64"
          },
          {
            "name": "openPositionFeeUsd",
            "type": "u64"
          },
          {
            "name": "closePositionFeeUsd",
            "type": "u64"
          },
          {
            "name": "fundingFeeUsd",
            "type": "u64"
          },
          {
            "name": "liquidationPrice",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "OraclePriceInfo",
      "type": {
        "fields": [
          {
            "name": "increaseLong",
            "type": "u64"
          },
          {
            "name": "increaseShort",
            "type": "u64"
          },
          {
            "name": "decreaseLong",
            "type": "u64"
          },
          {
            "name": "decreaseShort",
            "type": "u64"
          },
          {
            "name": "buyLp",
            "type": "u64"
          },
          {
            "name": "sellLp",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Permissions",
      "type": {
        "fields": [
          {
            "name": "allowSwap",
            "type": "bool"
          },
          {
            "name": "allowAddLiquidity",
            "type": "bool"
          },
          {
            "name": "allowRemoveLiquidity",
            "type": "bool"
          },
          {
            "name": "allowIncreasePosition",
            "type": "bool"
          },
          {
            "name": "allowDecreasePosition",
            "type": "bool"
          },
          {
            "name": "allowCollateralWithdrawal",
            "type": "bool"
          },
          {
            "name": "allowLiquidatePosition",
            "type": "bool"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Fees",
      "type": {
        "fields": [
          {
            "name": "increasePositionBps",
            "type": "u64"
          },
          {
            "name": "decreasePositionBps",
            "type": "u64"
          },
          {
            "name": "addRemoveLiquidityBps",
            "type": "u64"
          },
          {
            "name": "swapBps",
            "type": "u64"
          },
          {
            "name": "taxBps",
            "type": "u64"
          },
          {
            "name": "stableSwapBps",
            "type": "u64"
          },
          {
            "name": "stableSwapTaxBps",
            "type": "u64"
          },
          {
            "name": "liquidationRewardBps",
            "type": "u64"
          },
          {
            "name": "protocolShareBps",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "PoolApr",
      "type": {
        "fields": [
          {
            "name": "lastUpdated",
            "type": "i64"
          },
          {
            "name": "feeAprBps",
            "type": "u64"
          },
          {
            "name": "realizedFeeUsd",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "Limit",
      "type": {
        "fields": [
          {
            "name": "maxAumUsd",
            "type": "u128"
          },
          {
            "name": "maxIndividualLpToken",
            "type": "u128"
          },
          {
            "name": "maxPositionUsd",
            "type": "u64"
          }
        ],
        "kind": "struct"
      }
    },
    {
      "name": "OracleType",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "Test"
          },
          {
            "name": "Pyth"
          }
        ]
      }
    },
    {
      "name": "PriceCalcMode",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Min"
          },
          {
            "name": "Max"
          },
          {
            "name": "Ignore"
          }
        ]
      }
    },
    {
      "name": "RequestType",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "Market"
          },
          {
            "name": "Trigger"
          }
        ]
      }
    },
    {
      "name": "RequestChange",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "Increase"
          },
          {
            "name": "Decrease"
          }
        ]
      }
    },
    {
      "name": "Side",
      "type": {
        "kind": "enum",
        "variants": [
          {
            "name": "None"
          },
          {
            "name": "Long"
          },
          {
            "name": "Short"
          }
        ]
      }
    }
  ],
  "version": "0.1.0"
}